<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="Onur Varol">
    <link rel="icon" href="img/favicon.ico">

    <title>Content Annotator</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="js/themes/default/style.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet">

    <script src="js/jquery-1.11.3.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

  </head>

  <body>

    <nav class="navbar navbar-inverse">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">Content Annotator</a>
          </div>
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="#about">About</a></li>
            </ul>
          </div><!--/.nav-collapse -->
          <a href="https://github.com/onurvarol/content_annotation" target="_blank" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
        </div>
      </nav>

    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <h3>Content annotation</h3>
          <p>
            This project is developed to read and annotate texts. It provides a rich annotation tools and ability
            to store your annotations in Json format.
          </p>

          <h4>Json data structure</h4>
          <p>
            This project reads Json files to store annotation information and data along with some meta-data. Fields <b>data</b>
            and <b>title</b> saved for text informations. For the annotation hierarchy, tree structure is used and
            <a href-"http://www.jstree.com/" target="_blank">jsTree</a> package
            is chosen for the visualization. Json format for the <b>tree</b> is determined by jsTree package. Users annotations
            are stored in <b>annotations</b> field. It contains timestamp and users comment about chosen text. All other informations
            can be stored in <b>meta_data</b> field.
          </p>

          <pre>
            <code style="font-size:x-small;">
              {
                "title": "Lorem Ipsum",
                "data": "&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&lt;/p&gt;",
                "tree":[
                     { "id" : "entities", "parent" : "#", "text" : "Entities" },
                     { "id" : "notes", "parent" : "#", "text" : "Notes" },
                     { "id" : "temp", "parent" : "#", "text" : "Latest" },
                     { "id" : "j1_1", "parent" : "entities", "text" : "ipsum" },
                     { "id" : "j1_2", "parent" : "notes", "text" : "amet" }
                  ],
                "annotations": {
                  "j1_1": {
                    "id": "j1_1",
                    "type": "annotation",
                    "label": "#ff0000",
                    "created_at": 1432149588867,
                    "user_comment": "ipsum data",
                    "annotation": "&lt;span style='color:#ff0000;'&gt;ipsum&lt;/span&gt;"
                    },
                  "j1_2": {
                    "id": "j1_2",
                    "type": "note",
                    "label": "#00ff00",
                    "created_at": 1432149605160,
                    "user_comment": "newtest",
                    "annotation": "&lt;span style='color:#00ff00;'&gt;amet&lt;/span&gt;"
                    }
                  },
                "meta_data": {
                  "last_opened": 1432233529902,
                  "last_saved": 1432233534715,
                  "versions": [
                      {
                        "opened": 1432230550149,
                        "closed": 1432230570220
                      },
                      {
                        "opened": 1432233529902,
                        "closed": 1432233534715
                      }
                    ],
                  "author": "Onur Varol"
                  }
              }
            </code>
          </pre>

          <h4>If page crashes ...</h4>
          <p>
            Unfortunate events can happen all the time. If your page unexpectedly gives warnign, do not panic!. 
            All annotation and information continuously stored in localStorage of the browser. You can always 
            download your latest data manually.
          </p>

          <p>
            To download your localStorage copy on Chrome, 
            <ul>
              <li>right-click and choose "inspect element" </li>
              <li>Go to resources panel and find "Local Storage" option for that website</li>
              <li>Copy the value of <b>annotationData</b> and save as json file</li>
            </ul>
          </p>

          <img src="img/local-storage.png" class="img-responsive" alt="localStorage" width="100%">

          <h3>Known issues and future improvements</h3>
          <ul>
            <li>Encapsulating <b>span</b> elements</li>
            <li>Auto saving</li>
            <li>...</li>
          </ul>
        </div>
      </div>

    </div><!-- /.container -->
  </body>
</html>
